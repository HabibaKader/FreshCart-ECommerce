import{a as z,b as Y,c as G}from"./chunk-N6N56MPG.js";import{a as J}from"./chunk-5QSWCEWG.js";import{a as $}from"./chunk-YPB77LM4.js";import{a as q}from"./chunk-WVJSMALQ.js";import{a as ee}from"./chunk-IGCJBCVE.js";import{l as te}from"./chunk-T3NVU7MS.js";import{a as K,c as Q,g as X,k as Z}from"./chunk-LNBWFASC.js";import{a as U}from"./chunk-7RPU2NT2.js";import{C as B,d as k,e as j,j as A,k as N,l as R}from"./chunk-MLHBKMMI.js";import{Bb as D,Cb as d,Db as g,Gb as W,Hb as F,Ib as O,Kb as V,Lb as H,Mb as M,Na as b,Rb as x,Sa as o,Ta as _,Tb as S,Ub as L,Za as T,fa as w,gb as p,ib as a,kb as I,mb as n,nb as s,oa as h,ob as u,pa as f,pb as E,qb as P,rb as v,vb as C,wb as l}from"./chunk-6KRDYWU2.js";var ie=t=>["/productdetails",t],re=()=>[1,2,3,4,5];function ne(t,c){t&1&&u(0,"img",12)}function oe(t,c){t&1&&u(0,"img",13)}function se(t,c){t&1&&u(0,"img",14)}function ae(t,c){if(t&1&&(n(0,"div",19)(1,"div",20),u(2,"img",21),s(),n(3,"h3",22),d(4),s()()),t&2){let e=l().$implicit;o(2),a("src",e.image,b)("alt",e.name)("title",e.name),o(2),g(e.name)}}function ce(t,c){t&1&&(E(0),p(1,ae,5,4,"ng-template",6),P())}function le(t,c){if(t&1&&(n(0,"section",15)(1,"div",16)(2,"h2",17),d(3,"Popular Categories"),s(),n(4,"owl-carousel-o",5),p(5,ce,2,0,"ng-container",18),s()()()),t&2){let e=l();o(4),a("options",e.categoryOptions),o(),a("ngForOf",e.categoriesData)}}function me(t,c){if(t&1){let e=v();n(0,"i",40),C("click",function(){h(e);let r=l().$implicit,m=l(2);return f(m.addToWishlist(r.id))}),s()}}function de(t,c){if(t&1){let e=v();n(0,"i",41),C("click",function(){h(e);let r=l().$implicit,m=l(2);return f(m.removeFromWishlist(r.id))}),s()}}function pe(t,c){if(t&1&&u(0,"i",42),t&2){let e=c.$implicit,i=l().$implicit;I("rating-color",i.ratingsAverage>=e)}}function ue(t,c){if(t&1){let e=v();n(0,"div",27)(1,"div",28),p(2,me,1,0,"i",29)(3,de,1,0,"i",30),n(4,"header",31),u(5,"img",32),n(6,"h3",33),d(7),x(8,"cuttext"),s(),n(9,"h4",34),d(10),s(),n(11,"div",35)(12,"span"),d(13),x(14,"currency"),s(),n(15,"p",36),p(16,pe,1,2,"i",37),n(17,"span",38),d(18),s()()()(),n(19,"footer")(20,"button",39,0),C("click",function(){let r=h(e).$implicit,m=D(21),y=l(2);return f(y.addToCart(r.id,m))}),d(22,"Add To Cart"),s()()()()}if(t&2){let e=c.$implicit,i=l(2);o(2),a("ngIf",!i.wishListIds.includes(e.id)),o(),a("ngIf",i.wishListIds.includes(e.id)),o(),a("routerLink",M(17,ie,e.id)),o(),a("src",e.imageCover,b)("title",e.title)("alt",e.title),o(2),g(S(8,11,e.title,2)),o(3),g(e.category.name),o(3),g(S(14,14,e.price,"EGP ")),o(3),a("ngForOf",H(19,re)),o(2),g(e.ratingsAverage)}}function _e(t,c){if(t&1){let e=v();n(0,"section",23)(1,"h2",17),d(2,"Popular Products"),s(),n(3,"input",24),O("ngModelChange",function(r){h(e);let m=l();return F(m.searchValue,r)||(m.searchValue=r),f(r)}),s(),n(4,"div",25),p(5,ue,23,20,"div",26),x(6,"search"),x(7,"slice"),s()()}if(t&2){let e=l();o(3),W("ngModel",e.searchValue),o(2),a("ngForOf",L(7,5,S(6,2,e.productsData,e.searchValue),0,18))}}var De=(()=>{class t{constructor(e,i,r,m,y){this._ProductService=e,this._CartService=i,this._ToastrService=r,this._Renderer2=m,this._WishlistService=y,this.productsData=[],this.categoriesData=[],this.searchValue="",this.wishListIds=[],this.categoryOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,navText:["",""],autoplay:!0,autoplayTimeout:3e3,autoplaySpeed:2e3,responsive:{0:{items:2},400:{items:3},740:{items:4},940:{items:6}},nav:!1},this.mainSliderOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,navText:["",""],autoplay:!0,autoplayTimeout:3e3,autoplaySpeed:2e3,items:1,nav:!1}}ngOnInit(){this.getCategories(),this.getUserWishlist(),this.getProducts()}getCategories(){this._ProductService.getCategories().subscribe({next:e=>{this.categoriesData=e.data},error:e=>{this._ToastrService.error("has error occured.","Error")}})}getProducts(){this._ProductService.getProducts().subscribe({next:e=>{this.productsData=e.data},error:e=>{this._ToastrService.error("has error occured.","Error")}})}addToCart(e,i){e&&(this._Renderer2.setAttribute(i,"disabled","true"),this._CartService.addToCart(e).subscribe({next:r=>{this._ToastrService.success("Product Added To Cart.","Success"),this._Renderer2.removeAttribute(i,"disabled"),this._CartService.cartNumber.next(r.numOfCartItems)},error:r=>{this._ToastrService.error("has error occured.","Error"),this._Renderer2.removeAttribute(i,"disabled")}}))}getUserWishlist(){this._WishlistService.getUserWishList().subscribe({next:e=>{let i=e.data.map(r=>r._id);this.wishListIds=i},error:e=>{console.log(e)}})}addToWishlist(e){e&&this._WishlistService.addToWishList(e).subscribe({next:i=>{this._ToastrService.success(i.message,"Success"),this.wishListIds=i.data,this._WishlistService.wishListNumber.next(i.data.length)},error:i=>{this._ToastrService.error("has error occured.","Error")}})}removeFromWishlist(e){e&&this._WishlistService.removeFromWishList(e).subscribe({next:i=>{this._ToastrService.success(i.message,"Success"),this.wishListIds=i.data,this._WishlistService.wishListNumber.next(i.data.length)},error:i=>{this._ToastrService.error("has error occured.","Error")}})}static{this.\u0275fac=function(i){return new(i||t)(_(ee),_(U),_(te),_(T),_($))}}static{this.\u0275cmp=w({type:t,selectors:[["app-home"]],standalone:!0,features:[V],decls:13,vars:3,consts:[["btnAdd",""],[1,"pb-3"],[1,"px-4","pt-4"],[1,"row"],[1,"col-md-8"],[3,"options"],["carouselSlide",""],[1,"col-md-4"],["height","225","src","./assets/images/slide-1.jpg","alt","slide-1",1,"w-100"],["height","225","src","./assets/images/slide-2.jpg","alt","slide-2",1,"w-100"],["class","py-5 bg-light",4,"ngIf"],["class","py-4",4,"ngIf"],["height","450","src","./assets/images/main-slider-1.jpeg","alt","slider-1"],["height","450","src","./assets/images/main-slider-2.jpeg","alt","slider-2"],["height","450","src","./assets/images/main-slider-3.jpeg","alt","slider-3"],[1,"py-5","bg-light"],[1,"container"],[1,"text-center","mb-4","fw-bold"],[4,"ngFor","ngForOf"],[1,"category-card","text-center","p-3"],[1,"w-full","h-48","flex","items-center","justify-center","mb-3"],[1,"w-full","h-full","object-cover","rounded","shadow-sm",3,"src","alt","title"],[1,"h6","text-main","mt-2"],[1,"py-4"],["type","text","placeholder","Search",1,"form-control","w-50","mx-auto","form-control-sm","my-3",3,"ngModelChange","ngModel"],[1,"row","g-4"],["class","col-sm-6 col-md-4 col-lg-3 col-xl-2",4,"ngFor","ngForOf"],[1,"col-sm-6","col-md-4","col-lg-3","col-xl-2"],[1,"product","h-100"],["class","fa-regular fa-heart heart text-danger",3,"click",4,"ngIf"],["class","fa-solid fa-heart heart text-danger",3,"click",4,"ngIf"],["role","button",3,"routerLink"],[1,"w-100",3,"src","title","alt"],[1,"h6"],[1,"h6","text-main"],[1,"d-flex","align-items-center","justify-content-between","small","mb-1"],[1,"mb-0"],["class","fas fa-star",3,"rating-color",4,"ngFor","ngForOf"],[1,"text-muted"],[1,"main-btn","mt-1","w-100",3,"click"],[1,"fa-regular","fa-heart","heart","text-danger",3,"click"],[1,"fa-solid","fa-heart","heart","text-danger",3,"click"],[1,"fas","fa-star"]],template:function(i,r){i&1&&(n(0,"section",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"owl-carousel-o",5),p(5,ne,1,0,"ng-template",6)(6,oe,1,0,"ng-template",6)(7,se,1,0,"ng-template",6),s()(),n(8,"div",7),u(9,"img",8)(10,"img",9),s()()()(),p(11,le,6,2,"section",10)(12,_e,8,9,"section",11)),i&2&&(o(4),a("options",r.mainSliderOptions),o(7),a("ngIf",r.categoriesData.length>0),o(),a("ngIf",r.productsData.length>0))},dependencies:[R,k,j,N,A,q,G,Y,z,B,J,Z,K,Q,X],styles:[".product[_ngcontent-%COMP%]{overflow:hidden}.product[_ngcontent-%COMP%]:hover   .main-btn[_ngcontent-%COMP%]{transform:translateY(0);opacity:1}.product[_ngcontent-%COMP%]   .main-btn[_ngcontent-%COMP%]{transform:translateY(150%);opacity:0;transition:.8s}"]})}}return t})();export{De as HomeComponent};
