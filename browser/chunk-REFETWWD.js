import{a as D}from"./chunk-YG72RTHM.js";import{a as b,b as d,c as P,d as T,e as N,f,h as q,i as M,j as L,l as A}from"./chunk-LNBWFASC.js";import{B as y,e as R,l as I}from"./chunk-MLHBKMMI.js";import{Cb as m,Db as F,Kb as S,Sa as l,Ta as E,fa as w,gb as p,ib as a,mb as n,nb as r,ob as u,vb as C,wb as _}from"./chunk-6KRDYWU2.js";function G(e,s){e&1&&(n(0,"p",20),m(1,"Name Is Required"),r())}function V(e,s){e&1&&(n(0,"p",20),m(1,"Name Min Length 3"),r())}function $(e,s){e&1&&(n(0,"p",20),m(1,"Name Max Length 20"),r())}function j(e,s){if(e&1&&(n(0,"div",18),p(1,G,2,0,"p",19)(2,V,2,0,"p",19)(3,$,2,0,"p",19),r()),e&2){let o,i,t,g=_();l(),a("ngIf",(o=g.registerForm.get("name"))==null?null:o.getError("required")),l(),a("ngIf",(i=g.registerForm.get("name"))==null?null:i.getError("minlength")),l(),a("ngIf",(t=g.registerForm.get("name"))==null?null:t.getError("maxlength"))}}function z(e,s){e&1&&(n(0,"p",20),m(1,"Email Is Required"),r())}function B(e,s){e&1&&(n(0,"p",20),m(1,"Invalid Format"),r())}function W(e,s){if(e&1&&(n(0,"div",18),p(1,z,2,0,"p",19)(2,B,2,0,"p",19),r()),e&2){let o,i,t=_();l(),a("ngIf",(o=t.registerForm.get("email"))==null?null:o.getError("required")),l(),a("ngIf",(i=t.registerForm.get("email"))==null?null:i.getError("email"))}}function Z(e,s){e&1&&(n(0,"p",20),m(1,"Password Is Required"),r())}function k(e,s){e&1&&(n(0,"p",20),m(1,"Password At Length 6"),r())}function H(e,s){if(e&1&&(n(0,"div",18),p(1,Z,2,0,"p",19)(2,k,2,0,"p",19),r()),e&2){let o,i,t=_();l(),a("ngIf",(o=t.registerForm.get("password"))==null?null:o.getError("required")),l(),a("ngIf",(i=t.registerForm.get("password"))==null?null:i.getError("pattern"))}}function J(e,s){e&1&&(n(0,"p",20),m(1,"RePassword Is Required"),r())}function K(e,s){e&1&&(n(0,"p",20),m(1,"Not Match With Password"),r())}function O(e,s){if(e&1&&(n(0,"div",18),p(1,J,2,0,"p",19)(2,K,2,0,"p",19),r()),e&2){let o,i,t=_();l(),a("ngIf",(o=t.registerForm.get("rePassword"))==null?null:o.getError("required")),l(),a("ngIf",(i=t.registerForm.get("rePassword"))==null?null:i.getError("mismatch"))}}function Q(e,s){e&1&&(n(0,"p",20),m(1,"Phone Is Required"),r())}function U(e,s){e&1&&(n(0,"p",20),m(1,"Must Be Egyptian Number"),r())}function X(e,s){if(e&1&&(n(0,"div",18),p(1,Q,2,0,"p",19)(2,U,2,0,"p",19),r()),e&2){let o,i,t=_();l(),a("ngIf",(o=t.registerForm.get("phone"))==null?null:o.getError("required")),l(),a("ngIf",(i=t.registerForm.get("phone"))==null?null:i.getError("pattern"))}}function Y(e,s){e&1&&(n(0,"span"),u(1,"i",21),r())}function ee(e,s){if(e&1&&(n(0,"p",22),m(1),r()),e&2){let o=_();l(),F(o.errorMessage)}}var me=(()=>{class e{constructor(o,i){this._AuthService=o,this._Router=i,this.errorMessage="",this.isLoading=!1,this.registerForm=new N({name:new f("",[d.required,d.minLength(3),d.maxLength(20)]),email:new f("",[d.required,d.email]),password:new f("",[d.required,d.pattern(/^[a-zA-Z0-9_!@#$%^&*]{6,}$/)]),rePassword:new f(""),phone:new f("",[d.required,d.pattern(/^01[0125][0-9]{8}$/)])},{validators:[this.confirmPassword]})}confirmPassword(o){let i=o.get("password"),t=o.get("rePassword");t?.value==""?t?.setErrors({required:!0}):i?.value!=t?.value&&t?.setErrors({mismatch:!0})}handleForm(){this.isLoading=!0;let o=this.registerForm.value;this.registerForm.valid&&this._AuthService.register(o).subscribe({next:i=>{i.message=="success"&&this._Router.navigate(["/login"])},error:i=>{console.log("aa",i.error.message),this.errorMessage=i.error.message}}),this.isLoading=!1}static{this.\u0275fac=function(i){return new(i||e)(E(D),E(y))}}static{this.\u0275cmp=w({type:e,selectors:[["app-register"]],standalone:!0,features:[S],decls:33,vars:9,consts:[[1,"w-75","mx-auto","shadow","rounded","p-4","my-3","bg-main-light"],[1,"my-3"],[3,"ngSubmit","formGroup"],[1,"form-item"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["class","alert alert-danger p-1",4,"ngIf"],["for","email"],["formControlName","email","type","email","id","email",1,"form-control"],["for","password"],["formControlName","password","type","password","id","password",1,"form-control"],["for","rePassword"],["formControlName","rePassword","type","password","id","rePassword",1,"form-control"],["for","phone"],["formControlName","phone","type","tel","id","phone",1,"form-control"],[1,"main-btn","mt-2",3,"disabled"],[4,"ngIf"],["class","alert alert-danger p-1 mb-0 mt-2 text-center",4,"ngIf"],[1,"alert","alert-danger","p-1"],["class","mb-0",4,"ngIf"],[1,"mb-0"],[1,"fas","fa-spin","fa-spinner"],[1,"alert","alert-danger","p-1","mb-0","mt-2","text-center"]],template:function(i,t){if(i&1&&(n(0,"section",0)(1,"h1",1),m(2,"Register Now"),r(),n(3,"form",2),C("ngSubmit",function(){return t.handleForm()}),n(4,"div",3)(5,"label",4),m(6,"Name"),r(),u(7,"input",5),r(),p(8,j,4,3,"div",6),n(9,"div",3)(10,"label",7),m(11,"Email"),r(),u(12,"input",8),r(),p(13,W,3,2,"div",6),n(14,"div",3)(15,"label",9),m(16,"Password"),r(),u(17,"input",10),r(),p(18,H,3,2,"div",6),n(19,"div",3)(20,"label",11),m(21,"RePassword"),r(),u(22,"input",12),r(),p(23,O,3,2,"div",6),n(24,"div",3)(25,"label",13),m(26,"Phone"),r(),u(27,"input",14),r(),p(28,X,3,2,"div",6),n(29,"button",15),m(30," Register "),p(31,Y,2,0,"span",16),r()(),p(32,ee,2,1,"p",17),r()),i&2){let g,c,v,x,h;l(3),a("formGroup",t.registerForm),l(5),a("ngIf",((g=t.registerForm.get("name"))==null?null:g.errors)&&((g=t.registerForm.get("name"))==null?null:g.touched)),l(5),a("ngIf",((c=t.registerForm.get("email"))==null?null:c.errors)&&((c=t.registerForm.get("email"))==null?null:c.touched)),l(5),a("ngIf",((v=t.registerForm.get("password"))==null?null:v.errors)&&((v=t.registerForm.get("password"))==null?null:v.touched)),l(5),a("ngIf",((x=t.registerForm.get("rePassword"))==null?null:x.errors)&&((x=t.registerForm.get("rePassword"))==null?null:x.touched)),l(5),a("ngIf",((h=t.registerForm.get("phone"))==null?null:h.errors)&&((h=t.registerForm.get("phone"))==null?null:h.touched)),l(),a("disabled",t.registerForm.invalid),l(2),a("ngIf",t.isLoading),l(),a("ngIf",t.errorMessage)}},dependencies:[I,R,A,q,b,P,T,M,L]})}}return e})();export{me as RegisterComponent};
