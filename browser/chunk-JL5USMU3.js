import{a as k,b as N,c as V}from"./chunk-N6N56MPG.js";import{a as z}from"./chunk-IGCJBCVE.js";import{l as U}from"./chunk-T3NVU7MS.js";import{a as M}from"./chunk-7RPU2NT2.js";import{d as R,e as O,j as P,l as j,z as F}from"./chunk-MLHBKMMI.js";import{Bb as y,Cb as s,Db as l,Eb as T,Kb as w,Na as v,Rb as A,Sa as r,Ta as c,Tb as E,Za as h,fa as g,gb as m,ib as d,mb as a,nb as o,oa as C,ob as u,pa as x,pb as S,qb as D,rb as b,vb as I,wb as _}from"./chunk-6KRDYWU2.js";function G(t,f){if(t&1&&u(0,"img",17),t&2){let e=_().$implicit;d("src",e,v)}}function $(t,f){t&1&&(S(0),m(1,G,1,1,"ng-template",16),D())}function q(t,f){if(t&1){let e=b();a(0,"section",2)(1,"div",3)(2,"div",4)(3,"owl-carousel-o",5),m(4,$,2,0,"ng-container",6),o(),u(5,"img",7),o(),a(6,"div",8)(7,"div")(8,"h2",9),s(9),o(),a(10,"p",10),s(11),o(),a(12,"span"),s(13),o(),a(14,"div",11)(15,"span",12),s(16),A(17,"currency"),o(),a(18,"p",13),u(19,"i",14),s(20),o()(),a(21,"button",15,0),I("click",function(){C(e);let n=y(22),p=_();return x(p.addToCart(p.productDetails.id,n))}),s(23,"Add to Cart"),o()()()()()}if(t&2){let e=_();r(3),d("options",e.productDetailsOptions),r(),d("ngForOf",e.productDetails.images),r(),d("src",e.productDetails,v),r(4),l(e.productDetails.title),r(2),l(e.productDetails.description),r(2),l(e.productDetails.category.name),r(3),l(E(17,8,e.productDetails.price,"EGP ")),r(4),T(" ",e.productDetails.ratingsAverage,"")}}var ee=(()=>{class t{constructor(e,i,n,p,B){this._ActivatedRoute=e,this._ProductService=i,this._Renderer2=n,this._CartService=p,this._ToastrService=B,this.productDetailsOptions={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,navSpeed:700,navText:["",""],autoplay:!0,autoplayTimeout:3e3,autoplaySpeed:2e3,items:1,nav:!1}}ngOnInit(){this.productId=this._ActivatedRoute.snapshot.paramMap.get("id"),this.productId&&this._ProductService.getProduct(this.productId).subscribe({next:({data:e})=>{this.productDetails=e},error:e=>{console.log(e)}})}addToCart(e,i){e&&(this._Renderer2.setAttribute(i,"disabled","true"),this._CartService.addToCart(e).subscribe({next:n=>{this._ToastrService.success("Product Added To Cart.","Success",{positionClass:"toast-bottom-right"}),this._Renderer2.removeAttribute(i,"disabled"),this._CartService.cartNumber.next(n.numOfCartItems)},error:n=>{this._ToastrService.error("has error occured.","Error",{positionClass:"toast-bottom-right"}),this._Renderer2.removeAttribute(i,"disabled")}}))}static{this.\u0275fac=function(i){return new(i||t)(c(F),c(z),c(h),c(M),c(U))}}static{this.\u0275cmp=g({type:t,selectors:[["app-details"]],standalone:!0,features:[w],decls:1,vars:1,consts:[["btnAdd",""],["class","w-75 mx-auto rounded shadow p-3 mb-4",4,"ngIf"],[1,"w-75","mx-auto","rounded","shadow","p-3","mb-4"],[1,"row","align-items-center","g-4"],[1,"col-md-3"],[3,"options"],[4,"ngFor","ngForOf"],["alt","",3,"src"],[1,"col-md-9"],[1,"h5"],[1,"text-muted","small"],[1,"d-flex","justify-content-between","align-items-center","my-3"],[1,"small"],["mb-0",""],[1,"fas","fa-star","rating-color"],[1,"main-btn","w-100",3,"click"],["carouselSlide",""],[1,"w-100",3,"src"]],template:function(i,n){i&1&&m(0,q,24,11,"section",1),i&2&&d("ngIf",n.productDetails)},dependencies:[j,R,O,P,V,N,k]})}}return t})();export{ee as DetailsComponent};
